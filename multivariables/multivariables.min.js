var ss,ssVariables;MultiVariable=function(){this.instances=[],document.addEventListener("DOMContentLoaded",function(){ss=atob(document.querySelector("input[name='SS']").value).split("|"),ssVariables=JSON.parse("{"+ss.pop().replace(/[A-Z][A-Z0-9]*/g,'"$&"').replace(/,/g,":").replace(/;/g,",")+"}");for(var e=0;e<this.instances.length;e++)(function(){for(var t=this.instances[e],r=document.querySelector("input#"+t.input),i=[],n=0;n<t.length;n++)i.push(ssVariables[t.prefix+n]);if(t.value=t._deserialize(i),r&&(r.maxLength=t.length,Array.isArray(t.default)?r.placeholder=t.default[Math.floor(Math.random()*t.default.length)]:"function"==typeof t.default&&(r.placeholder=t.default(t.length)),r.addEventListener("input",function(){for(var e={},r=t._serialize(this.value),i=0;i<t.length;i++)e[t.prefix+i]=r[i];updateVariables(e)})),t.replace)for(var a=0;a<t.replace.length;a++){var s,o,l=t.replace[a],u=t.value;Array.isArray(l)?(s=globalizeRegex(l[0]),o=l[1],"number"==typeof o?u=u.substr(o,1):Array.isArray(o)&&"number"==typeof o[0]&&"number"==typeof o[1]?u=u.substr(o[0],o[1]):"function"==typeof o&&(u=o(u))):s=globalizeRegex(l),replaceTextNode(getNodeContent(".dark1border + div > div"),s,u)}}).bind(this)()}.bind(this))},MultiVariableInstance=function(e,t){if(this.factory=t,this.default=null,Array.isArray(e.default)||"function"==typeof e.default?this.default=e.default:"string"==typeof e.default&&(this.default=[e.default]),this.filter=null,e.filter&&(e.filter instanceof RegExp?this.filter=e.filter:"string"==typeof e.filter&&e.filter in this.factory.dictionary.FILTER&&(this.filter=this.factory.dictionary.FILTER[e.filter])),this.input="string"==typeof e.input?e.input:null,this.length=parseInt(e.length)||8,this.prefix="string"==typeof e.prefix&&/^[A-Z]/i.test(e.prefix)?e.prefix.toUpperCase():"MULTIVARIABLE"+this.factory.instances.length,this.replace=[],e.replace){Array.isArray(e.replace)||(e.replace=[e.replace]);for(var r=0;r<e.replace.length;r++){var i,n,a=e.replace[r];Array.isArray(a)&&a.length>1?(i=a[0],n=a[1]):i=a,"string"==typeof i?i=new RegExp(i.replace(/[-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")):i instanceof RegExp||(i=null),null!=i&&(null!=n?this.replace.push([i,n]):this.replace.push(i))}}this.transform=null,e.transform&&("function"==typeof e.transform?this.transform=e.transform:"string"==typeof e.transform&&e.transform in this.factory.dictionary.TRANSFORM&&(this.transform=this.factory.dictionary.TRANSFORM[e.transform])),this.value="",this.deserialize=this.serialize=null,"function"==typeof e.deserialize&&"function"==typeof e.serialize?(this.deserialize=e.deserialize,this.serialize=e.serialize):"string"==typeof e.serialize&&e.serialize in this.factory.dictionary.SERIALIZE?(this.serialize=this.factory.dictionary.SERIALIZE[e.serialize][0],this.deserialize=this.factory.dictionary.SERIALIZE[e.serialize][1]):"string"==typeof e.deserialize&&e.deserialize in this.factory.dictionary.SERIALIZE&&(this.serialize=this.factory.dictionary.SERIALIZE[e.deserialize][0],this.deserialize=this.factory.dictionary.SERIALIZE[e.deserialize][1])},MultiVariable.prototype.add=function(e){var t=new MultiVariableInstance(e,this);return this.instances.push(t),this},MultiVariable.prototype.create=function(e){var t=new MultiVariableInstance(e,this);return this.instances.push(t),this.instances[this.instances.length-1]},MultiVariable.prototype.entries=function(e,t){return null!=e?null!=t?this.instances.slice(e,t):this.instances.slice(e):this.instances},MultiVariable.prototype.get=function(e){return this.instances[e]},MultiVariable.prototype.first=function(){return this.instances[0]},MultiVariable.prototype.last=function(){return this.instances[this.instances.length-1]},MultiVariable.prototype.dictionary={FILTER:{INTEGER:/(?!^-|[\d])./,NATURAL:/[^\d]/,NAME:/^[-']|[^-'a-zA-Z]/,NAME_INTERNATIONAL:/^[-']|[^-'a-zA-ZÀ-ÖØ-öø-ÿ]/},SERIALIZE:{UNICODE:[function(e){return e.charCodeAt()},function(e){return String.fromCharCode(e)}],ALPHABET:[function(e){return e?"ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(e.toUpperCase())+1:0},function(e){return e?"ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")[e-1]:""}],DIGIT:[function(e){return parseInt(e)||-1},function(e){return-1===e?"":""+e}]},TRANSFORM:{LOWERCASE:function(e){return e.toLowerCase()},NAME:function(e){return e.toLowerCase().replace(/(^|-)(.)/g,function(e,t,r){return t+r.toUpperCase()})},UPPERCASE:function(e){return e.toUpperCase()}}},MultiVariableInstance.prototype._serialize=function(e){if("string"!=typeof e)throw"Input must be a string";var t=[],r=globalizeRegex(this.filter);r&&(e=e.replace(r,"")),this.transform&&(e=this.transform(e));for(var i=0;i<this.length;i++){var n=Number(this.serialize?this.serialize(e.substr(i,1)):e.charCodeAt(i)||0);if(Number.isNaN(n))throw"Serialization result must be a number.";if(2147483647<n||n<-2147483648)throw"Serialization result is outside the 32-bit limit.";t.push(n)}return t},MultiVariableInstance.prototype._deserialize=function(e){if(!Array.isArray(e))throw"Input must be an array";for(var t="",r=0;r<e.length;r++){var i=e[r];if(i=this.deserialize?this.deserialize(i):String.fromCharCode(i)){if("string"!=typeof i)throw"Deserialize function must return a string if truthy.";if(1!==i.length)throw"Deserialize function must return a string of length 1.";t+=i}}return t},MultiVariableInstance.prototype.conditionalize=function(e){return e=e||"",this._serialize(e).map(function(e,t){return"%"+this.prefix+t+" = "+e}.bind(this)).join(" AND ")},"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])}return r},writable:!0,configurable:!0}),Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=r.length;return function(n){if("function"!=typeof n&&("object"!=typeof n||null===n))throw new TypeError("Object.keys called on non-object");var a,s,o=[];for(a in n)e.call(n,a)&&o.push(a);if(t)for(s=0;s<i;s++)e.call(n,r[s])&&o.push(r[s]);return o}}()),Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),r=t.length,i=new Array(r);r--;)i[r]=[t[r],e[t[r]]];return i}),void 0===RegExp.prototype.flags&&Object.defineProperty(RegExp.prototype,"flags",{configurable:!0,get:function(){return this.toString().match(/[gimuy]*$/)[0]}}),globalizeRegex=function(e){return e instanceof RegExp?new RegExp(e.source,e.flags.replace(/g|^/i,"g")):null},unglobalizeRegex=function(e){return e instanceof RegExp?new RegExp(e.source,e.flags.replace(/g/i,"")):null},getNodeContent=function(e){return[].slice.call(document.querySelectorAll(e+", "+e+" *")).reduce(function(e,t){return e.concat([].slice.call(t.childNodes))},[])},replaceTextNode=function(e,t,r){for(var i=e.filter(function(e){return 3==e.nodeType&&e.nodeValue.trim()&&unglobalizeRegex(t).test(e.data)}),n=0;n<i.length;n++){var a=document.createElement("div"),s=i[n];for(a.innerHTML=s.data.replace(t,r);a.firstChild;)s.parentNode.insertBefore(a.firstChild,s);s.parentNode.removeChild(s)}},updateVariables=function(e){Object.assign(ssVariables,e)},applySS=function(){document.querySelector("input[name='SS']").value=btoa(ss.concat(Object.entries(ssVariables).map(function(e){return e.join(",")}).join(";")).join("|"))},PostBack=function(e,t){applySS();var r=getEl("pbForm");return r.pbAction.value=e||"",r.pbValue.value=t||"",r.submit(),!1};